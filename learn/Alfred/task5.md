## 第五章：Monad 101
 
1. 请简述 Monad 中的"延迟执行"概念。该机制如何优化共识与执行之间的关系？

Monad 的延迟执行机制体现在执行阶段是在共识达成后才开始的。具体来说，每个区块的执行阶段只有在共识达成后才会开始，这样节点就可以继续进行后续区块的共识。这种设计将共识和执行解耦，允许系统在等待当前区块执行完成的同时，可以并行处理后续区块的共识，从而提高了整体性能。

2. 什么是乐观并行执行？其工作流程包含哪些关键步骤？

乐观并行执行是 Monad 实现的一种并行交易处理机制，其工作流程包含以下关键步骤：

- 多个执行器并行处理交易
- 每个执行器处理交易后产生结果，包含输入（SLOAD）和输出（SSTORE）信息
- 结果最初处于待处理状态
- 按照原始交易顺序提交结果
- 提交时检查输入是否与当前状态匹配
- 如果输入不匹配，则重新调度交易

3. 在 Monad 架构中，如何通过并行执行仍保持交易的线性排序与状态一致性？

Monad 通过以下机制确保并行执行下的交易线性排序和状态一致性：

- 交易保持线性排序
- 结果按照原始顺序提交
- 提交时进行并发控制检查
- 如果发现状态冲突，会重新调度交易
- 重新执行时可以利用缓存的输入数据，提高效率

4. Monad 的共识机制monadBFT有哪些特点？它与传统 BFT 共识相比有何优势？

MonadBFT 作为 Monad 的共识机制，具有以下特点：

- 支持高吞吐量
- 低延迟
- 强一致性保证
- 与 Monad 的并行执行架构完美配合

相比传统 BFT 共识，MonadBFT 的优势在于：
- 更好的性能表现
- 与 Monad 的延迟执行机制更好地集成
- 能够支持更高的交易处理量

5. 为什么 Monad 采用"Optimistic Concurrency Control"？它在处理交易冲突方面是如何工作的？

Monad 采用乐观并发控制（OCC）的原因是其能够最大化并行执行的效率。在处理交易冲突时，OCC 的工作方式如下：

- 假设大多数交易不会发生冲突
- 允许交易并行执行
- 在提交时检查冲突
- 如果发现冲突，则重新执行受影响的交易
- 利用缓存机制减少重新执行的开销
- 保证最终状态与串行执行结果一致

这种机制在低冲突场景下能够提供更好的性能，同时通过重新执行机制确保状态一致性。

