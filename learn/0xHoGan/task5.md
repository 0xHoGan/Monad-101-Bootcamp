## 第五章：Monad 101
 
1. 请简述 Monad 中的“延迟执行”概念。该机制如何优化共识与执行之间的关系？
延迟执行(Asynchronous Execution)：一种允许 Monad 通过将共识与执行分离来大幅提高执行吞吐量的技术。
将共识与执行分离使得 Monad 能够大幅增加执行预算，因为执行从占用一小部分区块时间变成占用整个区块时间。


2. 什么是乐观并行执行？其工作流程包含哪些关键步骤？
乐观执行（Optimistic Execution）是 Monad 区块链交易并行执行背后的核心技术。乐观执行允许Monad在处理区块中的交易时，可以在尚未完成前序交易的情况下启动后续交易的执行。
假设区块中包含以下顺序的两个交易：
   1. 交易1：读取并更新账户A的余额（例如:资金从账户B转账到账户A）。
   2. 交易2：读取并更新账户A的余额（例如:资金从账户A转账到账户C）。 
   在这种情况下，如果两个交易并行执行，交易2在交易1完成前即开始执行，那么交易2读取到账户A的余额数据可能会不正确，导致执行错误。
   为解决这种问题，Monad会在交易执行过程中跟踪输入输出数据：在交易2执行时，系统会记录它所使用的数据，并在交易1完成后进行比对。如果发现交易2读取的数据与交易1的更新结果不一致，则 Monad会重新执行交易2，以确保其在新的、准确的数据状态下运行。


3. 在 Monad 架构中，如何通过并行执行仍保持交易的线性排序与状态一致性？
   交易线性排序保持不变：所有交易仍被线性排序，顺序作为提交时的参考。
   并行执行阶段不改变顺序：并发执行时，每个交易假定来自相同状态。
   写入控制：在提交结果前，系统通过访问图判断是否有依赖冲突。
   若无冲突，结果按原顺序写入状态树；
   若有冲突，重新执行冲突交易，直到所有冲突解决。


4. Monad 的共识机制monadBFT有哪些特点？它与传统 BFT 共识相比有何优势？
MonadBFT 是一个从头开始用 Rust 构建的高性能共识机制。区块链由两个主要组成部分构成：执行和共识。MonadBFT专注于共识部分。执行系统旨在实现并行执行和下面的高性能状态数据库。
特点：
    快乐路径中的线性通信开销
    超时情况下的二次通信开销
    通过响应证书对区块提案进行流水线化，从而允许每一轮都提出一个新区块
    500 毫秒轮次/块频率
     1秒确定性
共识确保全球分布的节点就官方工作（如交易列表）达成一致。MonadBFT源于Hot Stuff共识机制，强调线性通信。与另一种流行的共识机制Tendermint 相比，Monad BFT 的通信复杂性更低，允许更大的网络规模。
Hot Stuff 的线性通信协议减少了网络中发送的消息数量。通过领导者选举过程选出特定时段的领导者，并创建一个区块提案。其他节点评估块提案的有效性，并以扇入方式向下一任领导者发回投票。

1. 为什么 Monad 采用“Optimistic Concurrency Control”？它在处理交易冲突方面是如何工作的？
   OCC 假设多个事务可以并发执行地完成而不会相互冲突
   区块中的交易在运行时，会访问数据资源，但不需要提前锁定这些资源
   在事务提交之前，系统会验证是否有其他事务已经修改了他所读取的数据
   如果检测到冲突，系统会进去回滚状态，取消事务的执行
   如果没有冲突，则可以安全的提交交易结果


